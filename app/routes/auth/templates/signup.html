{% extends 'section.html' %}

{% block body %}

<div class="card-body p-5">
    <h1 class="fs-4 card-title fw-bold mb-4">Sign on</h1>
    <form method="POST" class="needs-validation" novalidate="" autocomplete="off">

        <div class="mb-4">
            <p class="text-muted mono">Using Session Sentinel as company? We recommend<br /> signing in with your work email address.</p>
        </div>

        <div class="mb-3">
            <label class="mb-2 text-muted" for="email">Email Address</label>
            <input id="email" type="email" 
                              class="form-control" name="email" 
                              value="{% if email!=None %}{{ email }}{% endif %}" 
                              placeholder="Work email"
                              autocomplete="email" 
                              autofocus
                              required>
            <div class="invalid-feedback{% if 'user' in error or 'email' in error %} visible{% endif %}">
                {% if 'user' in error %}
                    This address is already registered
                {% else %}
                    This address is incorrect
                {% endif %}
            </div>
        </div>

        <div class="mb-3">
            <label class="mb-2 text-muted" for="password">Password</label>
            <input id="password" type="password" 
                                 class="form-control" 
                                 name="password"
                                 pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
                                 placeholder="New password"
                                 autocomplete="new-password" 
                                 value="{% if passwd!=None %}{{ passwd }}{% endif %}"
                                 autofocus
                                 required>
            <div class="invalid-feedback{% if 'passwd' in error %} visible{% endif %}">
                must contains digits and symbols, min. 8 chars
            </div>
        </div>

        <p class="form-text text-muted mb-3 mono">
            By registering you agree with our terms and condition.
        </p>

        <div class="align-items-center d-flex">
            <button type="submit" class="btn btn-primary ms-auto w100">
                Register    
            </button>
        </div>
    </form>
</div>
<div class="card-footer py-3 border-0">
    <div class="text-center">
        Already have an account? <a href="{{ url_for('auth.identity') }}" class="text-dark invert">Login</a>
    </div>
</div>

{% endblock %}